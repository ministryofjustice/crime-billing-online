#claim-accordion
  .govuk-grid-row
    .govuk-grid-column-one-half
      %h2.govuk-heading-m
        = t('.h2_messages')

    .govuk-grid-column-one-half
      - if current_user.persona.is_a?(CaseWorker)
        .other-claims
          - if claim_ids.present? && claim_ids.include?(@claim.id)
            = t('shared.position_and_count', position: claim_position_and_count)

            - unless last_claim?
              = next_claim_link 'Next claim &gt;'.html_safe, class: 'next-claim'

  = render partial: 'shared/claim_history', locals: { claim: claim }
  = render partial: 'shared/claim_status', locals: { claim: claim, disabled: status_disabled }

  %h2.govuk-heading-l
    = t('.h2_basic_info')
  .js-accordion__panel
    = render partial: 'shared/new_claim', locals: { claim: claim, hide_totals: true }

  - if claim.defendants.any?
    %h2.govuk-heading-l
      = t('.h2_defendant_details')
    .js-accordion__panel
      = render partial: 'shared/new_claim_defendants', locals: { defendants: claim.defendants }
  -else
    = render partial: 'shared/new_defendant_details', locals: { claim: claim }

  %h2.govuk-heading-l
    = t('.h2_evidence')
  .js-accordion__panel
    = render partial: 'shared/new_evidence_list', locals: { claim: claim }

  %h2.govuk-heading-l
    = t('.h2_summary')
  .js-accordion__panel.fees-summary
    - if claim.agfs?
      = render partial: 'shared/new_summary_agfs', locals: { claim: claim }
    - else
      = render partial: 'shared/new_summary_lgfs', locals: { claim: claim }

  - if claim.additional_information.present?
    %h2.govuk-heading-l
      = t('.additional_information')
    .js-accordion__panel.fees-summary
      = render partial: 'shared/new_additional_information', locals: { claim: claim }
